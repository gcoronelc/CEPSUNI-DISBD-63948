
CREATE TABLE PACIENTE
( 
	IDPACIENTE           integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	DIRECCION            varchar(20)  NOT NULL ,
	CORREO               varchar(20)  NOT NULL ,
	CELULAR              varchar(20)  NOT NULL ,
	CONSTRAINT XPKPACIENTE PRIMARY KEY (IDPACIENTE ASC)
)
go



CREATE TABLE ESPECIALIDAD
( 
	IDESPECIALIDAD       integer  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKESPECIALIDAD PRIMARY KEY (IDESPECIALIDAD ASC)
)
go



CREATE TABLE MEDICO
( 
	IDMEDICO             integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	IDESPECIALIDAD       integer  NOT NULL ,
	CORREO               varchar(100)  NOT NULL ,
	CONSTRAINT XPKMEDICO PRIMARY KEY (IDMEDICO ASC),
	CONSTRAINT FK_MEDICO_ESPECIALIDAD FOREIGN KEY (IDESPECIALIDAD) REFERENCES ESPECIALIDAD(IDESPECIALIDAD)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE HABITACION
( 
	IDHABITACION         integer IDENTITY ( 1,1 ) ,
	ETIQUETA             varchar(20)  NOT NULL ,
	PABELLON             varchar(20)  NOT NULL ,
	PISO                 integer  NOT NULL ,
	ESTADO               integer  NOT NULL ,
	CONSTRAINT XPKHABITACION PRIMARY KEY (IDHABITACION ASC)
)
go



CREATE TABLE CAMA
( 
	IDCAMA               integer IDENTITY ( 1,1 ) ,
	CODIGO               integer  NOT NULL ,
	IDHABITACION         integer  NOT NULL ,
	DISPONIBLE           integer  NOT NULL ,
	ESTADO               integer  NOT NULL ,
	CONSTRAINT XPKCAMA PRIMARY KEY (IDCAMA ASC),
	CONSTRAINT FK_CAMA_HABITACION FOREIGN KEY (IDHABITACION) REFERENCES HABITACION(IDHABITACION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE INGRESO
( 
	IDINGRESO            integer IDENTITY ( 1,1 ) ,
	FECHA                datetime  NOT NULL ,
	IDPACIENTE           integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	IDCAMA               integer  NOT NULL ,
	COMENTARIO           varchar(1000)  NULL ,
	CONSTRAINT XPKINGRESO PRIMARY KEY (IDINGRESO ASC),
	CONSTRAINT FK_INGRESO_PACIENTE FOREIGN KEY (IDPACIENTE) REFERENCES PACIENTE(IDPACIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_INGRESO_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_INGRESO_CAMA FOREIGN KEY (IDCAMA) REFERENCES CAMA(IDCAMA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE ALTA
( 
	IDINGRESO            integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	COMENTARIO           varchar(1000)  NULL ,
	CONSTRAINT XPKALTA PRIMARY KEY (IDINGRESO ASC),
	CONSTRAINT FK_ALTA_INGRESO FOREIGN KEY (IDINGRESO) REFERENCES INGRESO(IDINGRESO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_ALTA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE VISITA
( 
	IDVISITA             integer IDENTITY ( 1,1 ) ,
	IDINGRESO            integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	COMENTARIO           varchar(1000)  NULL ,
	CONSTRAINT XPKVISITA PRIMARY KEY (IDVISITA ASC),
	CONSTRAINT FK_VISITA_INGRESO FOREIGN KEY (IDINGRESO) REFERENCES INGRESO(IDINGRESO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_VISITA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


